<!DOCTYPE html>
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <title>
      lukaszkups.net - jQuery promises explained
    </title>
    <meta content='lukaszkups.net - front-end development, branding, design' name='description'>
    <link href='/stylesheet/stylesheet.css' media='screen' rel='stylesheet' type='text/css'>
    <script src='http://code.jquery.com/jquery-latest.min.js' type='text/javascript'></script>
    <script src='/javascripts/bracketslider.js' type='text/javascript'></script>
    <meta content='nanoc 3.1.6' name='generator'>
    <link href='/images/favicon.ico' rel='shortcut icon'>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0' name='viewport'>
    <link href='/images/favicon.png' rel='shortcut icon' type='image/png'>
    <link href='http://lukaszkups.net/images/favicon.png' rel='shortcut icon' type='image/png'>
    <link href='http://fonts.googleapis.com/css?family=Lato|Droid+Sans|Roboto+Slab:300|Open+Sans' rel='stylesheet' type='text/css'>
    <meta content='http://lukaszkups.net/images/logo.jpg' property='og:image'>
    <link href='/stylesheet/highlightjs_styles.css' rel='stylesheet'>
    <script src='/javascripts/highlight.js'></script>
  </head>
  <body>
    <div class='main-container header'>
      <a class='site-title' href='/'>
        <div class='logo'></div>
        <span class='droid'>
          Front-end engineering.
        </span>
      </a>
      <ul class='main-menu'>
        <li>
          <a href='/experience/'>
            Experience
          </a>
        </li>
        <li>
          <a href='/notes/'>
            Notes
          </a>
        </li>
        <li>
          <a href='/about/'>
            About
          </a>
        </li>
        <li>
          <a href='/contact/'>
            Contact
          </a>
        </li>
      </ul>
    </div>
    <div class='clear clear40'></div>
    <div class='main-container project-container'>
      
      <h1 id="jquery-promises-explained">jQuery promises explained</h1>
      
      <h2 id="warning-this-post-contains-my-own-thoughts-about-promises-and-deferred-object-and-my-way-of-understanding-it---maybe-it-will-help-someone-better-understand-them-or-maybe-someone-doesnt-agree-with-my-way-of-thinking-and-get-even-more-confused">Warning: this post contains my own thoughts about promises and deferred object and my way of understanding it - maybe it will help someone better understand them or maybe someone doesn’t agree with my way of thinking and get even more confused.</h2>
      
      <h1 id="promises-and-deferred-objects">Promises and deferred objects</h1>
      
      <p>If You ever wanted create asynchronous functionality for Your web app, then You probably will do it using jQuery’s promises and deferred objects.</p>
      
      <p>I’m using deferred objects as a “containers” for anychronous tasks - e.g.</p>
      
      <pre>&#x000A;<code class="javascript">&#x000A;var getSomeData = function(){&#x000A;    var dfd = $.Deferred(),&#x000A;        result = getSomeDataViaAsyncAjaxCall();&#x000A;&#x000A;    dfd.resolve(result);&#x000A;    return dfd.promise();&#x000A;});&#x000A;</code></pre>
      
      <p>The <code>dfd.resolve(result)</code> contains a kind of promise for us that it will wait till the <code>result</code> variable get any value.</p>
      
      <p>The last line of the code above returns the promise object itself - and it’s obligate for our <code>when</code> method placed below:</p>
      
      <pre>&#x000A;<code class="javascript">&#x000A;$.when(getSomeData()).done(function(){&#x000A;    doSomeFancyThingsWithDataFromAsyncAjaxCall();&#x000A;});&#x000A;</code></pre>
      
      <p>The <code>$.when</code> method wait with its execution till the <code>getSomeData()</code> finish (in this case that means it will waito till it get some data and set it to its private <code>result</code> variable).</p>
      
      <p>We can of course also chain, nest and combine async functions - let’s say that we want acquire some huge amount of data from various sources asynchronously, compute it and then send to the frontend to visualise it to the user:</p>
      
      <pre>&#x000A;<code class="javascript">&#x000A;$.when(getSomeData(), getMoreData(), getEvenMoreData()).done(function(){&#x000A;    $.when(doSomeFancyThingsWithAcquiredData()).done(function(function(){&#x000A;        var customFunctionForPromises = function(){&#x000A;            var dfd = $.deferred(),&#x000A;                custom_promise1 = doSomeFancyAsyncThingsWithAcquiredData1(),&#x000A;                custom_promise2 = doSomeFancyAsyncThingsWithAcquiredData2();&#x000A;&#x000A;            dfd.resolve([custom_promise1, custom_promise2]);&#x000A;            return dfd.promise();&#x000A;        };&#x000A;&#x000A;        $.when(customFunctionForPromises).done(function(){&#x000A;           updateFrontEndWithAcquiredAsyncData(); &#x000A;        };&#x000A;    });&#x000A;});&#x000A;</code></pre>
      
      <p>This example should cover most of the use cases of promises for beginners who want to deal with async functions. Personally I’m using it very often when I need to fetch big amount of data from different remote sources.</p>
      
      <p>– ł.</p>
    </div>
    <div class='clear clear40'></div>
    <div class='main-container'>
      <div class='footer lato'>
        Copyright &copy; 2009 -
        2016
        Lukasz Kups (
        <a href='http://twitter.com/lukaszkups'>
          @lukaszkups
        </a>
        )
      </div>
    </div>
    <div class='clear clear20'></div>
    <script src='/javascripts/application.js' type='text/javascript'></script>
    <script src='/javascripts/blog.js' type='text/javascript'></script>
  </body>
</html>
